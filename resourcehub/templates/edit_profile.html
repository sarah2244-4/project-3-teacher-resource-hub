{% extends "base.html" %}
{% block content %}

<div class="container">

    <!-- Modal for deleting user profile -->

    <div id="delete-user-modal" class="modal">
        <div class="modal-content">
            <h4>This will delete the account associated with <span class="bold">{{ user.email }}</span> permanently. Are you sure?</h4>
        </div>
        <div class="modal-footer">
            <a href="#" class="modal-close bold btn-flat">No</a>
            <a href="{{ url_for('delete_profile', user_id=current_user.id) }}" class="modal-close bold btn-flat">
                Yes
            </a>
        </div>
    </div>

    <div class="col s12">

        <!-- Delete profile button -->
        <a class="btn right modal-trigger delete-profile" href="#delete-user-modal">Delete profile</a>

        <!-- Edit profile form -->
        <form method="POST" action="{{ url_for('edit_profile', user_id=current_user.id) }}">
            <h3 class="center-align">Edit Profile</h3>
            <div class="card form-padding">
                <!-- Edit username -->
                <div class="form-group">
                    <p>Current Username: {{ user.username }} </p>
                    <label for="username">New Username</label>
                    <input type="text" id="username" name="username" />
                </div>

                <!-- Edit email -->
                <div class="form-group">
                    <p>Current Email: {{ user.email }} </p>
                    <label for="email">New Email Address</label>
                    <input type="email" id="email" name="email" />
                </div>

                <!-- Edit password -->
                <div class="form-group">
                    <label for="password">Change Password</label>
                    <input type="password" id="password" name="password" />
                </div>

                <!-- Form submission -->
                <div class="row">
                    <div class="col s12 center-align">
                        <button type="submit" class="btn submit-button">
                            Save
                        </button>
                        <a href="{{ url_for('profile') }}"class="btn cancel-btn">Cancel</a>
                    </div>
                </div> 
            </div>
        </form>
    </div>
</div>

{% endblock %}